{{ include parts_html_header.html }}

<div class="showblock">
    <h1>
        {{$user_id}}: {{$name}} ã•ã‚“ã®ãƒã‚¤ãƒšãƒ¼ã‚¸
        {{if n3s_is_admin()}}(ç®¡ç†è€…){{endif}}
    </h1>
</div>

<div class="showblock">
    <h3>æŠ•ç¨¿ã—ãŸã‚¢ãƒ—ãƒªã®ä¸€è¦§</h3>
    {{if $apps }}
        <div><ul>
        {{for $apps as $r}}
            <li>
                <!-- button -->
                <a href="id.php?{{$r.app_id}}" class="pure-button">{{$r.app_id}}</a>
                {{if $r.is_private}}ã€éå…¬é–‹ã€‘{{else}}ã€å…¬é–‹ä¸­ã€‘{{endif}}
                <!-- title -->
                <a href="id.php?{{$r.app_id}}">{{$r.title | check_mudai}}</a>
                <!-- memo -->
                {{if $r.memo}}â†’{{$r.memo}}{{endif}}
                <!-- date -->
                <span class="memo">{{$r.mtime | date2}}</span>
                <!-- fav -->
                {{$r.fav | star}}
            </li>
        {{endfor}}
        </ul></div>
    {{else}}
    <div>ã‚ã‚Šã¾ã›ã‚“ã€‚</div>
    {{endif}}
</div>

<div class="showblock">
    <h3>ç´ æã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h3>
    <div>
        <ul>
            <!-- files -->
            {{ for $images as $i }}
            <li>
                <a href='index.php?action=upload&mode=show&image_id={{$i.image_id}}' class="pure-button">{{$i.image_id}}</a>
                {{$i.title}} - 
                <span class="memo">{{$r.mtime | date2}}</span>
            </li>
            {{ endfor }}
            <!-- button -->
            <li><a href="index.php?action=upload" class="pure-button">ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</a></li>
        </ul>
    </div>
</div>
    
<div class="showblock" style="border-top: 1px dotted silver;">
    <div style="padding:1em;">
        <div>
            <a class="pure-button" href="{{$logout_url}}">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
            <!-- img src="{{$user.profile_url}}" width="48" -->
        </div>
    </div>
</div>

<script>
function checkDelete(image_id) {
    const n = confirm('ID:' + image_id + 'ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ãŒè‰¯ã„ã§ã™ã‹ï¼Ÿ')
    if (!n) {
        alert('å‰Šé™¤ã—ã¾ã›ã‚“ğŸ˜ƒ')
        return
    }
    // delete image
    const tm = Math.floor((new Date()).getTime() / 1000)
    location.href = "index.php?action=upload&mode=delete&image_id=" + image_id + '&tm=' + tm
}
</script>



{{ include parts_html_footer.html }}
